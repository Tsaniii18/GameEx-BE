# Game-EX API Tests

# Base URL
@baseUrl = http://localhost:5000
@refreshToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc0ODA5MDEwOSwiZXhwIjoxNzQ4Njk0OTA5fQ.sfdj15mg1QY5F7VXNvXzcuQ0Cc4Cj4o9fG8n97OqGB8
@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc0ODA5MDEwOSwiZXhwIjoxNzQ4MDkxMDA5fQ._b6B2HLkNeQytCmnzV12nWQO6aVzYf11sHLD8TU5Lvo
@contentType = application/json

### Register User
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123"
}

### Login User
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "test@example.com",
  "password": "password123"
}

### Refresh Token
POST {{baseUrl}}/auth/refresh
Content-Type: {{contentType}}

{
  "token": "{{refreshToken}}"
}

### Logout
POST {{baseUrl}}/auth/logout
Content-Type: {{contentType}}

{
  "token": "{{refreshToken}}"
}

### Get All Games (Guest)
GET {{baseUrl}}/games

### Get Game Detail (Guest)
GET {{baseUrl}}/games/1

### Create Game (Auth)
POST {{baseUrl}}/games
Content-Type: {{contentType}}
Cookie: accessToken={{accessToken}}

{
  "gambar": "game1.jpg",
  "harga": 199000,
  "tag": "Racing",
  "deskripsi": "High speed racing game"
}

### Update Game (Auth)
PUT {{baseUrl}}/games/1
Content-Type: {{contentType}}
Cookie: accessToken={{accessToken}}

{
  "deskripsi": "Updated game description"
}

### Delete Game (Auth)
DELETE {{baseUrl}}/games/1
Cookie: accessToken={{accessToken}}

### Buy Game
POST {{baseUrl}}/users/buy
Content-Type: {{contentType}}
Cookie: accessToken={{accessToken}}

{
  "gameId": 1
}

### Get User Library
GET {{baseUrl}}/users/library
Cookie: accessToken={{accessToken}}

### Update Game Status
PATCH {{baseUrl}}/users/library/2
Content-Type: {{contentType}}
Cookie: accessToken={{accessToken}}

{
  "status": "terinstall"
}